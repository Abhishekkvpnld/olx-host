{"ast":null,"code":"import React,{useState,useContext}from'react';import{useNavigate}from'react-router-dom';import Logo from'../../olx-logo.png';import'./Signup.css';import{FirebaseContext}from'../../store/Context';import{getAuth,createUserWithEmailAndPassword,updateProfile}from\"firebase/auth\";import{getFirestore,collection,addDoc}from'firebase/firestore';import HashLoader from\"react-spinners/HashLoader\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Signup(){const[userName,setuserName]=useState('');const[Email,setEmail]=useState('');const[PhoneNo,setPhoneNo]=useState('');const[Password,setPassword]=useState('');const[Loading,setLoading]=useState(false);const[focus,setFocus]=useState({errName:false,errPhone:false,errPassword:false,errEmail:false});const{firebaseApp}=useContext(FirebaseContext);const navigate=useNavigate();const auth=getAuth(firebaseApp);const firestore=getFirestore(firebaseApp);const handleSubmit=e=>{e.preventDefault();createUserWithEmailAndPassword(auth,Email,Password).then(results=>{updateProfile(auth.currentUser,{displayName:userName}).then(()=>{addDoc(collection(firestore,'user'),{id:results.user.uid,username:userName,phone:PhoneNo}).then(()=>{navigate('/login');});});});};const loading=()=>{setLoading(true);setTimeout(()=>{setLoading(false);},5000);};const handlePage=()=>{navigate('/login');};return/*#__PURE__*/_jsxs(\"div\",{children:[Loading?/*#__PURE__*/_jsx(\"div\",{className:\"loadingSignUp\",children:/*#__PURE__*/_jsx(HashLoader,{color:\"#000000\"})}):\"\",/*#__PURE__*/_jsxs(\"div\",{className:\"signupParentDiv\",children:[/*#__PURE__*/_jsx(\"img\",{width:\"200px\",height:\"200px\",src:Logo,alt:\"Logo\"}),/*#__PURE__*/_jsxs(\"form\",{id:\"form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"fname\",children:\"Username\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{className:\"input\",pattern:\"^[A-Za-z0-9].{2,16}\",type:\"text\",value:userName,onChange:e=>{setuserName(e.target.value);},id:\"fname\",name:\"name\",onBlur:()=>setFocus({...focus,errName:true}),focus:focus.errName.toString(),required:true}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{children:\"username should be 3-16 charecters\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"fname\",children:\"Email\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{className:\"input\",type:\"email\",value:Email,onChange:e=>{setEmail(e.target.value);},id:\"fname\",name:\"email\",onBlur:()=>setFocus({...focus,errEmail:true}),focus:focus.errEmail.toString(),required:true}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{children:\"Enter valid Email Id\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"lname\",children:\"Phone\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{className:\"input\",type:\"number\",value:PhoneNo,onChange:e=>{setPhoneNo(e.target.value);},id:\"lname\",name:\"phone\",onBlur:()=>setFocus({...focus,errPhone:true}),focus:focus.errPhone.toString(),required:true}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{children:\"Enter phone number\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"lname\",children:\"Password\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{className:\"input\",pattern:\"(?=^.{8,16}$)((?=.*\\\\d)|(?=.*\\\\W+))(?![.\\\\n])(?=.*[A-Z])(?=.*[a-z]).*$\",type:\"password\",value:Password,onChange:e=>{setPassword(e.target.value);},id:\"lname\",name:\"password\",onBlur:()=>setFocus({...focus,errPassword:true}),focus:focus.errPassword.toString(),required:true}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Password must contain 8 charecters and \",/*#__PURE__*/_jsx(\"br\",{}),\"  include 1 uppercase 1 digit and 1 special charecters \"]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:loading,children:\"Signup\"}),/*#__PURE__*/_jsx(\"div\",{className:\"login\",children:/*#__PURE__*/_jsx(\"a\",{onClick:handlePage,children:\"Login\"})})]})]})]});}","map":{"version":3,"names":["React","useState","useContext","useNavigate","Logo","FirebaseContext","getAuth","createUserWithEmailAndPassword","updateProfile","getFirestore","collection","addDoc","HashLoader","jsx","_jsx","jsxs","_jsxs","Signup","userName","setuserName","Email","setEmail","PhoneNo","setPhoneNo","Password","setPassword","Loading","setLoading","focus","setFocus","errName","errPhone","errPassword","errEmail","firebaseApp","navigate","auth","firestore","handleSubmit","e","preventDefault","then","results","currentUser","displayName","id","user","uid","username","phone","loading","setTimeout","handlePage","children","className","color","width","height","src","alt","onSubmit","htmlFor","pattern","type","value","onChange","target","name","onBlur","toString","required","onClick"],"sources":["C:/Users/JISHN/Documents/projects/react/olx-host/src/Components/Signup/Signup.js"],"sourcesContent":["import React, { useState, useContext } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport Logo from '../../olx-logo.png';\r\nimport './Signup.css';\r\nimport { FirebaseContext } from '../../store/Context';\r\nimport { getAuth, createUserWithEmailAndPassword, updateProfile } from \"firebase/auth\";\r\nimport { getFirestore, collection, addDoc } from 'firebase/firestore';\r\nimport HashLoader from \"react-spinners/HashLoader\";\r\n\r\nexport default function Signup() {\r\n  const [userName, setuserName] = useState('');\r\n  const [Email, setEmail] = useState('');\r\n  const [PhoneNo, setPhoneNo] = useState('');\r\n  const [Password, setPassword] = useState('');\r\n  const [Loading, setLoading] = useState(false)\r\n\r\n  const [focus, setFocus] = useState({\r\n    errName: false,\r\n    errPhone: false,\r\n    errPassword: false,\r\n    errEmail: false\r\n  })\r\n\r\n  const { firebaseApp } = useContext(FirebaseContext);\r\n  const navigate = useNavigate();\r\n  const auth = getAuth(firebaseApp);\r\n  const firestore = getFirestore(firebaseApp);\r\n\r\n  const handleSubmit = (e) => {\r\n\r\n    e.preventDefault();\r\n    createUserWithEmailAndPassword(auth, Email, Password)\r\n      .then((results) => {\r\n        updateProfile(auth.currentUser, { displayName: userName })\r\n          .then(() => {\r\n            addDoc(collection(firestore, 'user'), {\r\n              id: results.user.uid,\r\n              username: userName,\r\n              phone: PhoneNo\r\n            })\r\n              .then(() => {\r\n                navigate('/login');\r\n              });\r\n\r\n          })\r\n\r\n      })\r\n\r\n  }\r\n  const loading = () => {\r\n    setLoading(true)\r\n    setTimeout(() => {\r\n      setLoading(false)\r\n    }, 5000)\r\n\r\n  }\r\n\r\n  const handlePage = () => {\r\n    navigate('/login');\r\n  }\r\n\r\n\r\n\r\n  return (\r\n    <div>\r\n      {Loading ?\r\n        <div className='loadingSignUp'>\r\n          <HashLoader color=\"#000000\" />\r\n        </div>\r\n        : \"\"\r\n      }\r\n\r\n      <div className=\"signupParentDiv\">\r\n        <img width=\"200px\" height=\"200px\" src={Logo} alt=\"Logo\"></img>\r\n        <form id='form' onSubmit={handleSubmit}>\r\n          <label htmlFor=\"fname\">Username</label>\r\n          <br />\r\n          <input\r\n            className=\"input\"\r\n            pattern='^[A-Za-z0-9].{2,16}'\r\n            type=\"text\"\r\n            value={userName}\r\n            onChange={(e) => { setuserName(e.target.value) }}\r\n            id=\"fname\"\r\n            name=\"name\"\r\n            onBlur={() => setFocus({ ...focus, errName: true })}\r\n            focus={focus.errName.toString()}\r\n            required\r\n          />\r\n          <br />\r\n          <span>username should be 3-16 charecters</span>\r\n          <br />\r\n          <label htmlFor=\"fname\">Email</label>\r\n          <br />\r\n          <input\r\n            className=\"input\"\r\n            type=\"email\"\r\n            value={Email}\r\n            onChange={(e) => { setEmail(e.target.value) }}\r\n            id=\"fname\"\r\n            name=\"email\"\r\n            onBlur={() => setFocus({ ...focus, errEmail: true })}\r\n            focus={focus.errEmail.toString()}\r\n            required\r\n          />\r\n          <br />\r\n          <span>Enter valid Email Id</span>\r\n          <br />\r\n          <label htmlFor=\"lname\">Phone</label>\r\n          <br />\r\n          <input\r\n            className=\"input\"\r\n            type=\"number\"\r\n            value={PhoneNo}\r\n            onChange={(e) => { setPhoneNo(e.target.value) }}\r\n            id=\"lname\"\r\n            name=\"phone\"\r\n            onBlur={() => setFocus({ ...focus, errPhone: true })}\r\n            focus={focus.errPhone.toString()}\r\n            required\r\n          />\r\n          <br />\r\n          <span>Enter phone number</span>\r\n          <br />\r\n          <label htmlFor=\"lname\">Password</label>\r\n          <br />\r\n          <input\r\n            className=\"input\"\r\n            pattern='(?=^.{8,16}$)((?=.*\\d)|(?=.*\\W+))(?![.\\n])(?=.*[A-Z])(?=.*[a-z]).*$'\r\n            type=\"password\"\r\n            value={Password}\r\n            onChange={(e) => { setPassword(e.target.value) }}\r\n            id=\"lname\"\r\n            name=\"password\"\r\n            onBlur={() => setFocus({ ...focus, errPassword: true })}\r\n            focus={focus.errPassword.toString()}\r\n            required\r\n          />\r\n          <br />\r\n          <span>Password must contain 8 charecters and <br />  include 1 uppercase 1 digit and 1 special charecters </span>\r\n          <br />\r\n          <br />\r\n          <button onClick={loading}>Signup</button>\r\n          <div className='login'>\r\n            <a onClick={handlePage}>Login</a>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}