{"ast":null,"code":"import React,{useContext,useState,useEffect}from'react';import'./View.css';import{FirebaseContext}from'../../store/Context';import{getFirestore,collection,query,where,getDocs}from'firebase/firestore';import{PostContext}from'../../store/postContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function View(){const[UserDetails,setUserDetails]=useState();const{firebaseApp}=useContext(FirebaseContext);const{PostDetails}=useContext(PostContext);const firestore=getFirestore(firebaseApp);useEffect(async()=>{console.log(PostDetails);//  const {userId} = useContext(PostDetails)\nconst q=query(collection(firestore,\"user\"),where(\"id\",\"==\",PostDetails.userId));const querySnapshot=await getDocs(q);const userDetailsData=[];querySnapshot.forEach(doc=>{userDetailsData.push(doc.data());setUserDetails(userDetailsData);});},[firestore]);return/*#__PURE__*/_jsxs(\"div\",{className:\"viewParentDiv\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"imageShowDiv\",children:[/*#__PURE__*/_jsx(\"img\",{src:PostDetails.url,alt:\"\"}),console.log(PostDetails)]}),/*#__PURE__*/_jsxs(\"div\",{className:\"rightSection\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"productDetails\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Product Details\"}),/*#__PURE__*/_jsx(\"span\",{children:PostDetails.Name}),/*#__PURE__*/_jsx(\"p\",{children:PostDetails.Category}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u20B9 \",PostDetails.Price,\" \"]}),/*#__PURE__*/_jsx(\"span\",{children:PostDetails.createdAt})]}),UserDetails&&/*#__PURE__*/_jsxs(\"div\",{className:\"contactDetails\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Seller details\"}),/*#__PURE__*/_jsx(\"p\",{className:\"details\",children:UserDetails[0].username}),/*#__PURE__*/_jsx(\"p\",{className:\"details\",children:UserDetails[0].phone})]})]})]});}export default View;","map":{"version":3,"names":["React","useContext","useState","useEffect","FirebaseContext","getFirestore","collection","query","where","getDocs","PostContext","jsx","_jsx","jsxs","_jsxs","View","UserDetails","setUserDetails","firebaseApp","PostDetails","firestore","console","log","q","userId","querySnapshot","userDetailsData","forEach","doc","push","data","className","children","src","url","alt","Name","Category","Price","createdAt","username","phone"],"sources":["C:/Users/JISHN/Documents/projects/react/olx-host/src/Components/View/View.js"],"sourcesContent":["import React, { useContext, useState, useEffect } from 'react';\r\nimport './View.css';\r\nimport { FirebaseContext} from '../../store/Context';\r\nimport { getFirestore, collection, query, where, getDocs } from 'firebase/firestore'\r\nimport { PostContext } from '../../store/postContext';\r\n\r\n\r\nfunction View() {\r\n\r\n\r\n  const [UserDetails, setUserDetails] = useState()\r\n  const { firebaseApp } = useContext(FirebaseContext);\r\n  const { PostDetails } = useContext(PostContext)\r\n  const firestore = getFirestore(firebaseApp);\r\n\r\n\r\n  useEffect(async () => {\r\n    \r\n  console.log(PostDetails);\r\n    //  const {userId} = useContext(PostDetails)\r\n    const q = query(collection(firestore, \"user\"), where(\"id\", \"==\", PostDetails.userId));\r\n    const querySnapshot = await getDocs(q);\r\n    const userDetailsData = [];\r\n    querySnapshot.forEach((doc) => {\r\n      userDetailsData.push(doc.data());\r\n      setUserDetails(userDetailsData);\r\n      \r\n    });\r\n  }, [firestore])\r\n\r\n  return (\r\n    <div className=\"viewParentDiv\">\r\n      <div className=\"imageShowDiv\">\r\n        <img\r\n          src={PostDetails.url} alt=\"\" />\r\n          {console.log(PostDetails)}\r\n      </div>\r\n      <div className=\"rightSection\" >\r\n        <div className=\"productDetails\">\r\n          <p>Product Details</p>\r\n          <span>{PostDetails.Name}</span>\r\n          <p>{PostDetails.Category}</p>\r\n          <p>&#x20B9; {PostDetails.Price} </p>\r\n          <span>{PostDetails.createdAt}</span>\r\n        </div>\r\n\r\n        {UserDetails && <div className=\"contactDetails\">\r\n          <p>Seller details</p>\r\n          <p className='details'>{UserDetails[0].username}</p>\r\n          <p className='details'>{UserDetails[0].phone}</p>\r\n        </div>}\r\n\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default View;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,UAAU,CAAEC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC9D,MAAO,YAAY,CACnB,OAASC,eAAe,KAAO,qBAAqB,CACpD,OAASC,YAAY,CAAEC,UAAU,CAAEC,KAAK,CAAEC,KAAK,CAAEC,OAAO,KAAQ,oBAAoB,CACpF,OAASC,WAAW,KAAQ,yBAAyB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAGtD,QAAS,CAAAC,IAAIA,CAAA,CAAG,CAGd,KAAM,CAACC,WAAW,CAAEC,cAAc,CAAC,CAAGf,QAAQ,CAAC,CAAC,CAChD,KAAM,CAAEgB,WAAY,CAAC,CAAGjB,UAAU,CAACG,eAAe,CAAC,CACnD,KAAM,CAAEe,WAAY,CAAC,CAAGlB,UAAU,CAACS,WAAW,CAAC,CAC/C,KAAM,CAAAU,SAAS,CAAGf,YAAY,CAACa,WAAW,CAAC,CAG3Cf,SAAS,CAAC,SAAY,CAEtBkB,OAAO,CAACC,GAAG,CAACH,WAAW,CAAC,CACtB;AACA,KAAM,CAAAI,CAAC,CAAGhB,KAAK,CAACD,UAAU,CAACc,SAAS,CAAE,MAAM,CAAC,CAAEZ,KAAK,CAAC,IAAI,CAAE,IAAI,CAAEW,WAAW,CAACK,MAAM,CAAC,CAAC,CACrF,KAAM,CAAAC,aAAa,CAAG,KAAM,CAAAhB,OAAO,CAACc,CAAC,CAAC,CACtC,KAAM,CAAAG,eAAe,CAAG,EAAE,CAC1BD,aAAa,CAACE,OAAO,CAAEC,GAAG,EAAK,CAC7BF,eAAe,CAACG,IAAI,CAACD,GAAG,CAACE,IAAI,CAAC,CAAC,CAAC,CAChCb,cAAc,CAACS,eAAe,CAAC,CAEjC,CAAC,CAAC,CACJ,CAAC,CAAE,CAACN,SAAS,CAAC,CAAC,CAEf,mBACEN,KAAA,QAAKiB,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5BlB,KAAA,QAAKiB,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3BpB,IAAA,QACEqB,GAAG,CAAEd,WAAW,CAACe,GAAI,CAACC,GAAG,CAAC,EAAE,CAAE,CAAC,CAC9Bd,OAAO,CAACC,GAAG,CAACH,WAAW,CAAC,EACxB,CAAC,cACNL,KAAA,QAAKiB,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3BlB,KAAA,QAAKiB,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BpB,IAAA,MAAAoB,QAAA,CAAG,iBAAe,CAAG,CAAC,cACtBpB,IAAA,SAAAoB,QAAA,CAAOb,WAAW,CAACiB,IAAI,CAAO,CAAC,cAC/BxB,IAAA,MAAAoB,QAAA,CAAIb,WAAW,CAACkB,QAAQ,CAAI,CAAC,cAC7BvB,KAAA,MAAAkB,QAAA,EAAG,SAAS,CAACb,WAAW,CAACmB,KAAK,CAAC,GAAC,EAAG,CAAC,cACpC1B,IAAA,SAAAoB,QAAA,CAAOb,WAAW,CAACoB,SAAS,CAAO,CAAC,EACjC,CAAC,CAELvB,WAAW,eAAIF,KAAA,QAAKiB,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7CpB,IAAA,MAAAoB,QAAA,CAAG,gBAAc,CAAG,CAAC,cACrBpB,IAAA,MAAGmB,SAAS,CAAC,SAAS,CAAAC,QAAA,CAAEhB,WAAW,CAAC,CAAC,CAAC,CAACwB,QAAQ,CAAI,CAAC,cACpD5B,IAAA,MAAGmB,SAAS,CAAC,SAAS,CAAAC,QAAA,CAAEhB,WAAW,CAAC,CAAC,CAAC,CAACyB,KAAK,CAAI,CAAC,EAC9C,CAAC,EAEH,CAAC,EACH,CAAC,CAEV,CACA,cAAe,CAAA1B,IAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}