{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/JISHN/Documents/projects/react/olx clone/olx-clone/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/JISHN/Documents/projects/react/olx clone/olx-clone/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/JISHN/Documents/projects/react/olx clone/olx-clone/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useState,useEffect}from'react';import'./View.css';import{FirebaseContext}from'../../store/Context';import{getFirestore,collection,query,where,getDocs}from'firebase/firestore';import{PostContext}from'../../store/postContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function View(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),UserDetails=_useState2[0],setUserDetails=_useState2[1];var _useContext=useContext(FirebaseContext),firebaseApp=_useContext.firebaseApp;var _useContext2=useContext(PostContext),PostDetails=_useContext2.PostDetails;var firestore=getFirestore(firebaseApp);useEffect(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var q,querySnapshot,userDetailsData;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:console.log(PostDetails);//  const {userId} = useContext(PostDetails)\nq=query(collection(firestore,\"user\"),where(\"id\",\"==\",PostDetails.userId));_context.next=4;return getDocs(q);case 4:querySnapshot=_context.sent;userDetailsData=[];querySnapshot.forEach(function(doc){userDetailsData.push(doc.data());setUserDetails(userDetailsData);});case 7:case\"end\":return _context.stop();}},_callee);})),[firestore]);return/*#__PURE__*/_jsxs(\"div\",{className:\"viewParentDiv\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"imageShowDiv\",children:/*#__PURE__*/_jsx(\"img\",{src:PostDetails.url,alt:\"\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"rightSection\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"productDetails\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Product Details\"}),/*#__PURE__*/_jsx(\"span\",{children:PostDetails.Name}),/*#__PURE__*/_jsx(\"p\",{children:PostDetails.Category}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u20B9 \",PostDetails.Price,\" \"]}),/*#__PURE__*/_jsx(\"span\",{children:PostDetails.createdAt})]}),UserDetails&&/*#__PURE__*/_jsxs(\"div\",{className:\"contactDetails\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Seller details\"}),/*#__PURE__*/_jsx(\"p\",{className:\"details\",children:UserDetails[0].username}),/*#__PURE__*/_jsx(\"p\",{className:\"details\",children:UserDetails[0].phone})]})]})]});}export default View;","map":{"version":3,"names":["React","useContext","useState","useEffect","FirebaseContext","getFirestore","collection","query","where","getDocs","PostContext","jsx","_jsx","jsxs","_jsxs","View","_useState","_useState2","_slicedToArray","UserDetails","setUserDetails","_useContext","firebaseApp","_useContext2","PostDetails","firestore","_asyncToGenerator","_regeneratorRuntime","mark","_callee","q","querySnapshot","userDetailsData","wrap","_callee$","_context","prev","next","console","log","userId","sent","forEach","doc","push","data","stop","className","children","src","url","alt","Name","Category","Price","createdAt","username","phone"],"sources":["C:/Users/JISHN/Documents/projects/react/olx clone/olx-clone/src/Components/View/View.js"],"sourcesContent":["import React, { useContext, useState, useEffect } from 'react';\r\nimport './View.css';\r\nimport { FirebaseContext} from '../../store/Context';\r\nimport { getFirestore, collection, query, where, getDocs } from 'firebase/firestore'\r\nimport { PostContext } from '../../store/postContext';\r\n\r\n\r\nfunction View() {\r\n\r\n\r\n  const [UserDetails, setUserDetails] = useState()\r\n  const { firebaseApp } = useContext(FirebaseContext);\r\n  const { PostDetails } = useContext(PostContext)\r\n  const firestore = getFirestore(firebaseApp);\r\n\r\n\r\n  useEffect(async () => {\r\n    \r\n  console.log(PostDetails);\r\n    //  const {userId} = useContext(PostDetails)\r\n    const q = query(collection(firestore, \"user\"), where(\"id\", \"==\", PostDetails.userId));\r\n    const querySnapshot = await getDocs(q);\r\n    const userDetailsData = [];\r\n    querySnapshot.forEach((doc) => {\r\n      userDetailsData.push(doc.data());\r\n      setUserDetails(userDetailsData);\r\n      \r\n    });\r\n  }, [firestore])\r\n\r\n  return (\r\n    <div className=\"viewParentDiv\">\r\n      <div className=\"imageShowDiv\">\r\n        <img\r\n          src={PostDetails.url} alt=\"\" />\r\n      </div>\r\n      <div className=\"rightSection\" >\r\n        <div className=\"productDetails\">\r\n          <p>Product Details</p>\r\n          <span>{PostDetails.Name}</span>\r\n          <p>{PostDetails.Category}</p>\r\n          <p>&#x20B9; {PostDetails.Price} </p>\r\n          <span>{PostDetails.createdAt}</span>\r\n        </div>\r\n\r\n        {UserDetails && <div className=\"contactDetails\">\r\n          <p>Seller details</p>\r\n          <p className='details'>{UserDetails[0].username}</p>\r\n          <p className='details'>{UserDetails[0].phone}</p>\r\n        </div>}\r\n\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default View;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}